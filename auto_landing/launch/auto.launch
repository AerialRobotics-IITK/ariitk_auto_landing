<?xml version="1.0"?>
<launch>   
 
	<arg name="mav_name" default="firefly" />
	<arg name="x"        default="5.0" />
    <arg name="y"        default="5.0" />
	
	<include file="$(find auto_landing)/launch/mov.launch" >
	    <arg name="mav_name" value="$(arg mav_name)" />
		<arg name="x"        value="$(arg x)" />
		<arg name="y"        value="$(arg y)" />
	</include>
 
 	<include file="$(find mav_linear_mpc)/launch/mav_linear_mpc_sim.launch" />

	<node pkg="auto_landing" type="auto_landing_tracking_node" name="auto_landing_tracking_node" output="screen">
		<remap from="command_pose" 	     to="$(arg mav_name)/command/track/pose" />
		<remap from="quad_odometry"  	 to="$(arg mav_name)/ground_truth/odometry" />
		<remap from="model_state" 		 to="gazebo/model_states" />
	</node>

	<node pkg="auto_landing" type="auto_landing_landing_node" name="auto_landing_landing_node" output="screen" args="-trajectory false">
		<remap from="mav_command"        to="$(arg mav_name)/command/track/pose" />
		<remap from="mav_odometry"       to="$(arg mav_name)/ground_truth/odometry" />
		<remap from="model_state"        to="gazebo/model_states" />
		<remap from="mav_final_command"  to="$(arg mav_name)/command/pose" />
	</node>

	<node pkg="rqt_gui" type="rqt_gui" name="rqt_gui" args="--perspective-file $(find auto_landing)/rqt/node_monitor.perspective" />
</launch>
